/* ===== Título ===== */
.ttl { color:#1a3e6a; margin-bottom:12px; font-weight:800; }

/* ===== Layout base ===== */
.grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 16px;
  margin: 0 auto 16px;
}

.card { background:#fff; border:1px solid #e9eef6; border-radius:12px; padding:14px; box-shadow:0 8px 28px var(--utem-shadow, rgba(10,36,77,.06)); }
.card h3 { margin:0 0 10px; color:#0a244d; }
.card-head { display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:8px; }

/* ===== Progreso ===== */
.list { list-style:none; margin:0; padding:0; display:grid; gap:8px; }
.list li { display:grid; grid-template-columns:auto 1fr auto; align-items:center; gap:10px; }
.prog { height:8px; background:#ecf2fb; border-radius:8px; overflow:hidden; }
.bar { height:100%; background:#1976d2; border-radius:8px; }

/* ===== Drop de subida ===== */
.drop { border:2px dashed #cfe3ff; border-radius:12px; padding:18px; text-align:center; background:#f7fbff; color:#1f2a37; font-weight:700; }

/* ===== Lista de documentos ===== */
.files { list-style:none; margin:0; padding:0; display:grid; gap:8px; }
.files li { display:grid; grid-template-columns:1fr auto auto; align-items:center; background:#f7faff; border:1px solid #e9eef6; border-radius:10px; padding:10px 12px; }
.files li .muted { margin-right:8px; color:#667085; font-size:.9rem; }

/* ===== Evaluación de práctica ===== */
.eval-section { display:grid; grid-template-columns:1fr; gap:14px; }
.eval-card { display:flex; align-items:flex-start; justify-content:space-between; gap:12px; padding:12px; border:1px solid #e9eef6; border-radius:10px; background:#f7faff; }
.eval-download .muted { display:block; }
.eval-upload .file-input { display:block; cursor:pointer; border:1px dashed #cbd5e1; padding:12px; border-radius:10px; color:#0f274b; background:#f8fafc; }
.eval-upload .file-input input { display:none; }
.eval-upload .file-input span { font-weight:700; }
.eval-actions { display:flex; gap:10px; margin-top:10px; flex-wrap:wrap; }
.eval-status { margin-top:10px; padding:10px 12px; background:#f9fafb; border:1px solid #e5e7eb; border-radius:10px; }

/* ===== Solicitudes ===== */
.solicitudes-card { margin-top:18px; }
.solicitudes-list { list-style:none; margin:0; padding:0; display:grid; gap:12px; }
.solicitud-item { 
  background:#fff; 
  border:1px solid #e9eef6; 
  border-radius:12px; 
  padding:16px; 
  display:grid; 
  gap:14px; 
  box-shadow:0 6px 24px rgba(10,36,77,.05); 
}

/* Fila única con todos los elementos */
.solicitud-row { 
  display:flex; 
  flex-wrap:wrap; 
  gap:15px; 
  align-items:flex-start;
  color:#1f2937; 
  font-size: 14px;
}

.solicitud-field { 
  display:flex; 
  flex-direction:column; 
  gap:2px; 
  min-width:120px;
  flex:1 1 0;
}

.solicitud-field .label { 
  font-size: 12px; 
  text-transform:uppercase; 
  letter-spacing:.06em; 
  color:#64748b; 
  font-weight:700; 
}

.solicitud-field .muted { 
  color:#64748b; 
  font-size:12px; 
}

/* Wrapper del botón con fecha creada debajo */
.solicitud-btn-wrapper {
  display:flex;
  flex-direction:column;
  gap:8px;
  align-items:flex-end;
  min-width:140px;
}

/* Fecha creada debajo del botón */
.solicitud-creada {
  display:flex;
  flex-direction:column;
  gap:2px;
  text-align:center;
}

.solicitud-creada .label {
  font-size:10px;
  text-transform:uppercase;
  letter-spacing:.06em;
  color:#64748b;
  font-weight:700;
}

.solicitud-creada strong {
  font-size: 12px;
  color:#1f2937;
}

.solicitud-detalle { 
  border-radius:10px; 
  background:#fef2f2; 
  border:1px solid #fecaca; 
  color:#991b1b; 
  padding:8px 12px; 
  font-size: 12px; 
}

.solicitud-empty { font-style:italic; }

/* ===== Chips de estado ===== */
.chip { 
  text-align:center;
  border-radius:99px; 
  padding:4px 10px; 
  font-weight:800; 
  font-size: 13px; 
}
.chip-warn { 
  background:#fff7ed; 
  color:#b33c14; 
  border:1px solid #fed7aa; 
}   /* En revisión */
.chip-ok   { 
  background:#ecfdf5; 
  color:#065f2b; 
  border:1px solid #bbf7d0; 
}   /* Aprobado */
.chip-bad  {  
  background:#fef2f2; 
  color:#991b1b; 
  border:1px solid #fecaca; 
}   /* Rechazado */

/* ===== Botones ===== */
.btn { border:0; border-radius:8px; background:#e4ecfa; color:#0a244d; font-weight:800; padding:10px 14px; cursor:pointer; transition:background .2s; }
.btn[aria-disabled="true"], .btn:disabled { opacity:.65; cursor:not-allowed; }
.btn:hover { background:#d0def8; }
.btn.primary { background:#1976d2; color:#fff; }
.btn.primary:hover { background:#155fb0; }
.btn.sm { padding:6px 10px; font-size:.9rem; }

/* ====== Ayudas y validaciones ====== */
.lbl.req::after { content:' *'; color:#dc2626; font-weight:800; }
.help { color:#6b7280; font-size:.82rem; margin-top:4px; }
input.ng-invalid.ng-touched,
select.ng-invalid.ng-touched {
  border-color:#dc2626;
  box-shadow:0 0 0 2px rgba(220,38,38,.12);
}

/* ======= MODAL (incrustado) ======= */
.no-scroll { overflow:hidden; }
.pp-backdrop{ position:fixed; inset:0; background:rgba(0,0,0,.38); backdrop-filter:blur(2px); z-index:9998; }
.pp-modal{
  position:fixed; top:50%; left:50%; transform:translate(-50%,-50%);
  z-index:9999; width:min(96vw,1600px); max-height:92vh; background:#fff;
  border:1px solid #e9eef6; border-radius:16px; box-shadow:0 18px 48px rgba(0,0,0,.28);
  display:flex; flex-direction:column; overflow:hidden;
}
.pp-modal header{ display:flex; align-items:center; justify-content:space-between; padding:16px 18px; border-bottom:1px solid #e9eef6; background:#f7faff; }
.pp-modal header h3{ margin:0; color:#0a244d; font-weight:800; }
.pp-modal header .icon{ background:transparent; border:0; font-size:20px; cursor:pointer; }
.modal-grid.two-pane{ display:grid; grid-template-columns:1.15fr 1fr; gap:0; height:100%; min-height:0; }

/* Columna formulario */
.form-col{
  display:grid; grid-template-columns:1fr 1fr; column-gap:28px; row-gap:20px;
  padding:22px 24px; overflow:auto; background:#f9fbfe; border-right:1px solid #eef2f7;
}
.form-col .lbl{ font-weight:700; color:#0f274b; }
.form-col>div{ display:flex; flex-direction:column; gap:8px; margin-bottom:6px; }
.form-col .full{ grid-column:1 / -1; margin-top:4px; margin-bottom:6px; }
.block-title{ margin:6px 0 8px; font-size:.95rem; font-weight:800; color:#0a244d; }

/* Campos */
input,select{ height:46px; padding:0 14px; border:1px solid #dbe3ee; border-radius:10px; background:#fff; transition:border .2s, box-shadow .2s; }
input:focus,select:focus{ border-color:#1976d2; outline:none; box-shadow:0 0 0 2px rgba(25,118,210,.18); }

/* Acciones y alertas */
.actions{ display:flex; justify-content:flex-end; gap:12px; margin-top:10px; padding-top:14px; border-top:1px solid #e6ebf3; }
.alert{ padding:10px 12px; border-radius:8px; font-weight:700; }
.alert.ok{ background:#ecfdf5; color:#065f46; border:1px solid #bbf7d0; }
.alert.error{ background:#fef2f2; color:#991b1b; border:1px solid #fecaca; }

/* Columna vista previa */
.preview-col{ padding:24px; overflow:auto; background:#fff; }
.carta{ background:#fff; border:1px solid #e9eef6; border-radius:12px; padding:28px 34px; line-height:1.55; color:#1f2a37; box-shadow:0 2px 10px rgba(0,0,0,.04); }
.c-enc{text-align:center;margin-bottom:10px;}
.c-uni{font-weight:800;}
.c-addr{font-size:12px;color:#6b7280;}
.c-fecha{text-align:right;margin:18px 0;}
.c-dest{margin-bottom:18px;}
.c-dest-name{font-weight:700;}
.c-body p{margin:12px 0;text-align:justify;}
.c-obj{margin:8px 0 12px 18px;}
.c-sign{margin-top:28px;text-align:left;}
.c-firma-nombre{font-weight:800;}
.hint{margin-top:10px;color:#6b7280;text-align:center;font-size:12px;}

/* ===== Responsive ===== */
@media (max-width: 980px) {
  .grid { grid-template-columns:1fr; }
}

@media (max-width: 1200px) {
  .solicitud-row {
    gap:12px;
  }
  .solicitud-field {
    min-width:100px;
  }
}

@media (max-width: 1080px){
  .modal-grid.two-pane{ grid-template-columns:1fr; }
  .form-col{ border-right:0; border-bottom:1px solid #eef2f7; }
}

@media (max-width: 900px) {
  .solicitud-row {
    flex-direction:column;
  }
  .solicitud-field {
    min-width:auto;
    flex:1 1 100%;
  }
  .solicitud-btn-wrapper {
    width:100%;
    align-items:flex-start;
  }
  .solicitud-creada {
    text-align:center;
  }
}

@media (max-width: 720px){
  .form-col{ grid-template-columns:1fr; column-gap:0; }
}