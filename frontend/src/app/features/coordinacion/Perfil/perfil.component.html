<section class="perfil-page">
  <h1 class="page-title">Perfil de Usuario</h1>

  <div class="grid">
    <div class="card">
      <h3>Información Personal</h3>
      <div class="row"><b>Nombre:</b><span>{{ userProfile.nombre || 'Sin nombre' }}</span></div>
      <div class="row"><b>Correo:</b><span>{{ userProfile.correo || 'Sin correo' }}</span></div>
      <div class="row"><b>RUT:</b><span>{{ userProfile.rut || 'Sin registro' }}</span></div>
      <div class="row"><b>Carrera:</b><span>{{ userProfile.carrera || 'Sin carrera asignada' }}</span></div>
    </div>

    <div class="card">
      <h3>Editar Información</h3>
      <div class="row">
        <b>Teléfono:</b>
        <span *ngIf="!isEditing">{{ userProfile.telefono || 'Agregar número de teléfono' }}</span>
        <input
          *ngIf="isEditing"
          class="inp"
          type="tel"
          [(ngModel)]="editableProfile.telefono"
          placeholder="Agregar número de teléfono"
        />
      </div>

      <div class="row">
        <b>Contraseña:</b>
        <div *ngIf="!isEditing">
          <span>****</span>
          <button class="link" type="button" (click)="changePassword()">Cambiar</button>
        </div>
        <input
          *ngIf="isEditing"
          type="password"
          class="inp"
          [(ngModel)]="editableProfile.contrasena"
          placeholder="Nueva contraseña"
        />
      </div>

      <div class="action-row" *ngIf="!isEditing">
        <button class="btn-edit" type="button" (click)="startEditing()">Editar Información</button>
      </div>
      <div class="action-row" *ngIf="isEditing">
        <button class="btn-save" type="button" (click)="saveProfile()">Guardar</button>
        <button class="btn-cancel" type="button" (click)="cancelEditing()">Cancelar</button>
      </div>
    </div>
  </div>

  <div class="card">
    <h3>Historial de Sesiones</h3>
    <ul class="list">
      <li>Último acceso: {{ userProfile.ultimoAcceso || '25 de abril de 2024' }}</li>
    </ul>
    <div class="session-actions">
      <button class="btn-session" type="button" (click)="closeSession()">Cerrar sesión</button>
      <button class="btn-session" type="button" (click)="changePassword()">Cambiar contraseña</button>
    </div>
  </div>
</section>
