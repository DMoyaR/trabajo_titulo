<section class="dashboard-content">
  <header class="dashboard-header">
    <h1 class="title">Panel de administración</h1>
    <button class="refresh-button" type="button" (click)="refreshData()">
      Refrescar datos
    </button>
  </header>

    <!-- TARJETAS DINÁMICAS - Mostrar 0 si no hay datos -->
  <div class="cards">
    <div class="card" *ngFor="let card of cardStats; trackBy: trackByCardTitle">
      <h2 [style.color]="card.color">{{ card.value }}</h2>
      <p>{{ card.title }}</p>
    </div>
  </div>

  <div class="tables">
    <!-- TABLA DE PROCESOS RECIENTES - Solo mostrar si hay datos -->
    <div class="table" *ngIf="procesosRecientes.length > 0; else emptyProcesos">
      <h3>Procesos Recientes</h3>
      <table>
        <thead>
          <tr>
            <th>Estudiante</th>
            <th>Título del Proyecto</th>
            <th>Estado</th>
            <th>Fecha</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let proceso of procesosRecientes; trackBy: trackByProcesoId">
            <td>{{ proceso.estudiante }}</td>
            <td>{{ proceso.tituloProyecto }}</td>
            <td>
              <span class="badge" [class]="getBadgeClass(proceso.estado)">
                {{ getEstadoText(proceso.estado) }}
              </span>
            </td>
            <td>{{ proceso.fecha }}</td>
          </tr>
        </tbody>
      </table>
    </div>

 <ng-template #emptyProcesos>
      <div class="table empty">
        <h3>Procesos Recientes</h3>
        <p class="empty-message">Aún no hay procesos recientes registrados.</p>
      </div>
    </ng-template>
  </div>

  <!-- TABLA DE PROFESORES - Solo mostrar si hay datos y solo 2 columnas -->
  <div class="table" *ngIf="profesores.length > 0; else emptyProfesores">
    <h3>Resumen de Profesores</h3>
    <table>
      <thead>
        <tr>
          <th>Nombre</th>
          <th>Correo electrónico</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let profesor of profesores; trackBy: trackByProfesorId">
          <td>{{ profesor.nombre }}</td>
          <td>{{ profesor.email }}</td>
        </tr>
      </tbody>
    </table>
  </div>
  <ng-template #emptyProfesores>
    <div class="table empty">
      <h3>Resumen de Profesores</h3>
      <p class="empty-message">No hay profesores cargados aún.</p>
    </div>
  </ng-template>
</section>